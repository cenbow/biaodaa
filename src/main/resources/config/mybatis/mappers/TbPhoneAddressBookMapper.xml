<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.silita.biaodaa.dao.TbPhoneAddressBookMapper" >
  <resultMap id="BaseResultMap" type="com.silita.biaodaa.model.TbPhoneAddressBook" >
    <!--
      WARNING - @mbg.generated
    -->
    <id column="pkid" property="pkid" jdbcType="INTEGER" />
    <result column="device_id" property="deviceId" jdbcType="VARCHAR" />
    <result column="phone_name" property="phoneName" jdbcType="VARCHAR" />
    <result column="phone" property="phone" jdbcType="VARCHAR" />
    <result column="user_phone" property="userPhone" jdbcType="VARCHAR" />
    <result column="source_from" property="sourceFrom" jdbcType="CHAR" />
    <result column="created_date" property="createdDate" jdbcType="TIMESTAMP" />
  </resultMap>

  <select id="queryPhoneAddressCount" parameterType="java.lang.String" resultType="int">
      select count(*)
      from tb_phone_address_book
      where device_id = #{deviceId}
  </select>
  
  <insert id="batchInsertPhoneAddress" parameterType="java.util.List">
    INSERT INTO `mishu`.`tb_phone_address_book`
            (
             `device_id`,
             `phone_name`,
             `phone`,
             `user_phone`,
             `source_from`,
             `created_date`)
    VALUES
    <foreach collection="list" item="list" separator=",">
      (
        #{list.deviceId},#{list.phoneName},#{list.phone},#{list.userPhone},#{list.sourceFrom},#{list.createdDate}
      )
    </foreach>
  </insert>

  <delete id="delPhoneAddress" parameterType="java.lang.String">
    delete from tb_phone_address_book where  device_id = #{deviceId}
  </delete>
</mapper>